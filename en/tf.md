# TF卡

当插入TF卡后，系统会自动挂载为 `/mnt/extsd`目录。  
如果想读写TF卡内的文件，可以对该目录进行读写操作。  

### 文件路径 
如果你的TF卡根目录内有一个 `test.txt` 文件，那么在我们的机器上，这个文件的绝对路径就是 `/mnt/extsd/test.txt` 。  


## 写TF卡注意事项
 向TF卡内写文件，尽量遵循以下操作顺序，不然可能会造成无法写入的情况。  
 `插卡`->`上电`->`打开文件`->`读写文件`->`fflush()`->`关闭文件`->`sync()`->`拔卡`  
 换言之，如果有写TF卡的需求，尽量保证在开机前就已经插好TF卡，而不是在已经开机状态下临时插入TF卡。  
 并且写完后，注意同步的问题。

## 判断是否挂载TF卡
```c++
#include "os/MountMonitor.h"
```
```c++
  if (MOUNTMONITOR->isMount()) {
    //TF卡已经挂载
  } else {
    //TF卡未挂载
  }
```


> [!Note]
> `/mnt/extsd` 目录一直存在，与是否插入TF卡无关  
> 没有插入TF卡的情况下，如果读写该目录，内容会保存在内存中，但断电就会消失。
